<div class="row">
  <div class="col-md-6">
    <img class="img-fluid h-100" src="assets/Images/form.png" alt="" />
  </div>
  <div class="col-md-6">
    <form class="" [formGroup]="registerForm" (ngSubmit)="handleForm()">
      <h1 class="text-muted mb-3">Create Account</h1>

      <div class="form-group mb-3">
        <label for="name">Name</label>
        <input
          type="text"
          class="form-control"
          id="name"
          formControlName="name"
        />
        <div
          class="text-danger p-1 small"
          *ngIf="
            registerForm.get('name')?.errors &&
            registerForm.get('name')?.touched
          "
        >
          <p
            class="mb-0"
            *ngIf="registerForm.get('name')?.getError('required')"
          >
            your name is required
          </p>
          <p
            class="mb-0"
            *ngIf="registerForm.get('name')?.getError('minlength')"
          >
            your name must be more than 3 characters
          </p>
          <p
            class="mb-0"
            *ngIf="registerForm.get('name')?.getError('maxlength')"
          >
            your name must be less than 20 characters
          </p>
        </div>
      </div>
      <div class="form-group mb-3">
        <label for="email">Email address</label>
        <input
          type="email"
          class="form-control"
          id="email"
          formControlName="email"
        />
        <div
          class="text-danger p-1 small"
          *ngIf="
            registerForm.get('email')?.errors &&
            registerForm.get('email')?.touched
          "
        >
          <p
            class="mb-0"
            *ngIf="registerForm.get('email')?.getError('required')"
          >
            your email is required
          </p>
          <p class="mb-0" *ngIf="registerForm.get('email')?.getError('email')">
            your email is invalid
          </p>
        </div>
      </div>
      <div class="form-group mb-3 position-relative">
        <label for="password">Password</label>
        <input
          [type]="isShowPassword ? 'text' : 'password'"
          class="form-control"
          id="password"
          formControlName="password"
        />
        <span (click)="handlePass('password')" class="eye position-absolute">
          <i [ngClass]="isShowPassword ? 'fa fa-eye' : 'fa fa-eye-slash'"></i>
        </span>
        <div
          class="text-danger p-1 small"
          *ngIf="
            registerForm.get('password')?.errors &&
            registerForm.get('password')?.touched
          "
        >
          <p
            class="mb-0"
            *ngIf="registerForm.get('password')?.getError('required')"
          >
            Your password is required
          </p>
          <p
            class="mb-0"
            *ngIf="registerForm.get('password')?.getError('pattern')"
          >
          Password must be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, one number, and one special character.
          </p>
        </div>
      </div>
      <div class="form-group mb-3 position-relative">
        <label for="repassword">Re-enter Password</label>
        <input
          [type]="isShowRePassword ? 'text' : 'password'"
          class="form-control"
          id="repassword"
          formControlName="rePassword"
        />
        <span (click)="handlePass('repassword')" class="eye position-absolute">
          <i [ngClass]="isShowRePassword ? 'fa fa-eye' : 'fa fa-eye-slash'"></i>
        </span>
        <div
          class="text-danger p-1 small"
          *ngIf="
            registerForm.get('rePassword')?.errors &&
            registerForm.get('rePassword')?.touched
          "
        >
          <p
            class="mb-0"
            *ngIf="registerForm.get('rePassword')?.getError('required')"
          >
            Your re-enter password is required
          </p>
          <p
            class="mb-0"
            *ngIf="registerForm.get('rePassword')?.getError('mismatch')"
          >
            Your passwords must match
          </p>
        </div>
      </div>
      <!-- <div class="d-flex justify-content-between mb-3">
          <button routerLink="/login" type="button" class="btn btn-danger">Back</button>
          <button
          [disabled]="registerForm.invalid"
          type="submit"
          class="btn btn-success"
        >
          Sign Up
        </button>
        </div> -->
      <button 
        [disabled]="registerForm.invalid"
        type="submit"
        class="btn btn-color w-100"
      >
        Sign Up
        <span *ngIf="isLoading"><i class="fas fa-spin fa-spinner"></i></span>
      </button>
      <div class="text-center mt-3">
        <p>
          Already have an account ?
          <a routerLink="/login" class="signup-link">Log in</a>
        </p>
      </div>
    </form>
  </div>
</div>
